(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),i=(n(13),n(14),r.a.createContext({})),s=function(e){var t={distanceBetween:function(e,t){return new Promise((function(n,a){n(window.google.maps.geometry.spherical.computeDistanceBetween(e,t))}))},addressToGeocode:function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode({address:e},(function(e,t){"OK"===t?n({lat:e[0].geometry.location.lat,lng:e[0].geometry.location.lng}):a("Geocode was not successful for the following reason: "+t)}))}))}};return function(n){return r.a.createElement(i.Provider,{value:t},r.a.createElement(e,n))}},u=n(6),l=n(1),d=n(3),g=n.n(d),m=n(7),f=n(2),y=[{agent:"007",country:"Brazil",address:"Avenida Vieira Souto 168 Ipanema, Rio de Janeiro",date:"Dec 17, 1995, 9:45:17 PM"},{agent:"005",country:"Poland",address:"Rynek Glowny 12, Krakow",date:"Apr 5, 2011, 5:05:12 PM"},{agent:"007",country:"Morocco",address:"27 Derb Lferrane, Marrakech",date:"Jan 1, 2001, 12:00:00 AM"},{agent:"005",country:"Brazil",address:"Rua Roberto Simonsen 122, Sao Paulo",date:"May 5, 1986, 8:40:23 AM"},{agent:"011",country:"Poland",address:"swietego Tomasza 35, Krakow",date:"Sep 7, 1997, 7:12:53 PM"},{agent:"003",country:"Morocco",address:"Rue Al-Aidi Ali Al-Maaroufi, Casablanca",date:"Aug 29, 2012, 10:17:05 AM"},{agent:"008",country:"Brazil",address:"Rua tamoana 418, tefe",date:"Nov 10, 2005, 1:25:13 PM"},{agent:"013",country:"Poland",address:"Zlota 9, Lublin",date:"Oct 17, 2002, 10:52:19 AM"},{agent:"002",country:"Morocco",address:"Riad Sultan 19, Tangier",date:"Jan 1, 2017, 5:00:00 PM"},{agent:"009",country:"Morocco",address:"atlas marina beach, agadir",date:"Dec 1, 2016, 9:21:21 PM"}],w=function(e){var t=e.row,n=e.rowStyle;return r.a.createElement(r.a.Fragment,null,Object.keys(t).map((function(e,a){return t[e]instanceof Object?null:r.a.createElement("span",{key:a,className:"grid-column ".concat(n&&n)},t[e])})))},h=function(e){var t=e.data,n=e.headerData,a=e.footerData,o=e.rowStyle;return t.length?r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"grid"},n.map((function(e,t){return r.a.createElement("strong",{key:t,className:"grid-column header-column"},e)})),t.map((function(e,t){return r.a.createElement(w,{key:t,row:e,rowStyle:o&&o[t]})}))),r.a.createElement("footer",{className:"grid-footer"},a)):null},v=s((function(e){var t=Object(a.useContext)(i),n=t.addressToGeocode,o=t.distanceBetween,c=Object(a.useState)([]),s=Object(f.a)(c,2),d=s[0],w=s[1],v=Object(a.useState)({}),p=Object(f.a)(v,2),b=p[0],D=p[1];Object(a.useEffect)((function(){var e,t,a=0,r=0;n("10 Downing st. London").then((function(c){(function(){var i=Object(m.a)(g.a.mark((function i(){return g.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.all(y.map((function(i,s){return n(i.address).then((function(n){return o(n,c).then((function(n){var o=e,c=t;return(e=e?n<e?n:e:n)!==o&&(a=s),(t=t?n>t?n:t:n)!==c&&(r=s),i})).catch((function(e){return console.error(e)}))}))})));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}})()().then((function(e){var t,n=e.sort((function(e,t){var n=new Date(e.date).getTime,a=new Date(t.date).getTime;return n>a?1:n<a?-1:0}));D((t={},Object(l.a)(t,r,"red"),Object(l.a)(t,a,"green"),t)),w(n)}))}));var c=y.reduce((function(e,t){return e.agents[t.agent]?e.agents[t.agent].push(t.country):e.agents[t.agent]=[t.country],e.countries[t.country]?e.countries[t.country].agentIdies.push(t.agent):e.countries[t.country]={agentIdies:[t.agent],isolationDegree:0},e}),{agents:{},countries:{}}),i={isolationDegree:0,countryName:""},s=Object.entries(c.countries).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],r=0,o=!0,s=!1,l=void 0;try{for(var d,g=a.agentIdies[Symbol.iterator]();!(o=(d=g.next()).done);o=!0){var m=d.value;1===c.agents[m].length&&r++}}catch(y){s=!0,l=y}finally{try{o||null==g.return||g.return()}finally{if(s)throw l}}return r>i.isolationDegree&&(i.isolationDegree=r,i.countryName=n),[n,Object(u.a)({},a,{isolationDegree:r})]}));alert("".concat(i.countryName," is the most isolated with isolation degree of ").concat(i.isolationDegree)),console.log("countries with Isolation degree",s)}),[n,o]);return r.a.createElement(h,{rowStyle:b,data:d,headerData:["Agent ID","Country","Address","Date"],footerData:"".concat(d.length," missions")})}));var p=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.1b2c0761.chunk.js.map